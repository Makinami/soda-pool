## tonic-auto-balances (tentative name)

This is a wrapper around gRPC client generated by tonic-build that automatically detects changes in available servers based on DNS query.

The main advantage over tonic provided balancing is automatic detection of new servers, removal of old or broken ones, and retrying requests that have failed due to connectivity issues like server going off-line.

### General design

The wrapper runs two background tasks to keep server list up to date and healthy:
- DNS resolver task periodically queries DNS for IP addresses of the servers and updates the list of available servers.
- Health check task periodically checks the health of previously broken servers to see if they are back online.

Broken servers are detected on failed requests (only if the error originates from connection issues rather than server-side errors) and are marked as unhealthy. They are retried after a certain period of time.

Since original tonic Request object cannot be cloned, to retry request to another server, the package also introduces a cloneable wrapper over the Request type.
